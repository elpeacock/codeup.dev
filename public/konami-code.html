<!DOCTYPE html>
<html>
<head>
    <title>Konami Code</title>
</head>
<body class="window">
    <h1>Konami Code</h1>

    <script src="/js/jquery-useme.js"></script>
    <script>
        "use strict";
        // a key map of allowed keys
        var allowedKeys = {
            37: 'left',
            38: 'up',
            39: 'right',
            40: 'down',
            65: 'a',
            66: 'b'
        };

        // the 'official' Konami Code sequence
        var konamiCode = ['up', 'up', 'down', 'down', 'left', 'right', 'left', 'right', 'b', 'a'];

        // a variable to remember the 'position' the user has reached so far.
        var indexPosition = 0;

        // add keydown event listener
        $(document).keyup(function(e) {
            // get the value of the key code from the key map
            var key = allowedKeys[e.keyCode];
            // get the value of the required key from the konami code
            var requiredKey = konamiCode[indexPosition];

            // compare the key with the required key
            if (key == requiredKey) {

                // move to the next key in the konami code sequence
                indexPosition += 1;

                // if the last key is reached, activate cheats
                if (indexPosition == konamiCode.length)
                    activated();
                } else
                    indexPosition = 0;
        });

        function activated() {

            alert("activated");
        }       


    </script>
</body>
</html>